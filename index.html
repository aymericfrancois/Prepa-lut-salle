<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proxiforme - Tracker Muscu</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Sans:opsz,wght@9..40,400;9..40,500;9..40,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- =============================================
         ÉCRAN 1 : SÉLECTION DE SÉANCE
    ============================================= -->
    <div class="screen" id="screen-selection">
        <div class="container">
            <header>
                <div class="header-content">
                    <h1>PROXIFORME</h1>
                    <p>Choisir votre séance</p>
                </div>
            </header>
            <div id="selection-content"></div>
        </div>
    </div>

    <!-- =============================================
         ÉCRAN 2 : WORKOUT
    ============================================= -->
    <div class="screen" id="screen-workout">
        <div class="container">
            <header>
                <div class="header-content">
                    <h1 id="workout-title">SÉANCE</h1>
                    <p id="workout-subtitle"></p>
                </div>
                <div class="header-actions">
                    <button class="header-btn" id="reset-btn">RESET SÉRIES</button>
                    <button class="header-btn header-btn-danger" id="leave-btn">CHANGER DE SÉANCE</button>
                </div>
            </header>
            <div class="grid" id="workout-grid"></div>
            <div class="workout-footer">
                <button class="add-ex-btn" id="add-exercise-btn">+ AJOUTER UN EXERCICE</button>
                <div style="display:flex; flex-direction:column; align-items:center; gap:10px;">
                    <button class="finish-btn" id="finish-btn">TERMINER → GAINAGE</button>
                    <button class="finish-btn-secondary" id="finish-no-plank-btn">Terminer sans gainage</button>
                </div>
            </div>
        </div>
    </div>

    <!-- =============================================
         ÉCRAN 3 : GAINAGE / CIRCUIT
    ============================================= -->
    <div class="screen" id="screen-plank">
        <div class="container">
            <header>
                <div class="header-content">
                    <h1>GAINAGE FINAL</h1>
                    <p id="plank-header-sub">Fin de séance</p>
                </div>
                <div class="header-actions">
                    <button class="header-btn" id="plank-back-btn">← SÉANCE</button>
                    <button class="header-btn header-btn-danger" id="plank-skip-btn">PASSER</button>
                </div>
            </header>

            <!-- SETUP (config + tabs) -->
            <div id="plank-setup-section">
                <div class="plank-tabs" id="plank-tabs-nav">
                    <button class="plank-tab active" data-plank-tab="planche">PLANCHE</button>
                    <button class="plank-tab" data-plank-tab="circuit">CIRCUIT ABDOS</button>
                </div>

                <!-- Tab Planche -->
                <div id="plank-tab-planche">
                    <div class="plank-config-row">
                        <span class="plank-config-label">Séries</span>
                        <div class="plank-config-options" id="cfg-planche_rounds">
                            <button class="plank-config-btn" data-field="planche_rounds" data-val="2">2</button>
                            <button class="plank-config-btn selected" data-field="planche_rounds" data-val="3">3</button>
                            <button class="plank-config-btn" data-field="planche_rounds" data-val="4">4</button>
                        </div>
                    </div>
                    <div class="plank-config-row">
                        <span class="plank-config-label">Face</span>
                        <div class="plank-config-options" id="cfg-planche_faceDur">
                            <button class="plank-config-btn" data-field="planche_faceDur" data-val="45">45s</button>
                            <button class="plank-config-btn selected" data-field="planche_faceDur" data-val="60">1 min</button>
                            <button class="plank-config-btn" data-field="planche_faceDur" data-val="90">1m30</button>
                        </div>
                    </div>
                    <div class="plank-config-row">
                        <span class="plank-config-label">Côtés</span>
                        <div class="plank-config-options" id="cfg-planche_sideDur">
                            <button class="plank-config-btn" data-field="planche_sideDur" data-val="20">20s</button>
                            <button class="plank-config-btn selected" data-field="planche_sideDur" data-val="30">30s</button>
                            <button class="plank-config-btn" data-field="planche_sideDur" data-val="45">45s</button>
                        </div>
                    </div>
                    <p class="plank-estimate" id="plank-time-estimate">Durée estimée : 6 min</p>
                    <button class="start-btn" id="plank-start-btn" style="max-width:320px; margin-top:0;">DÉMARRER LA PLANCHE</button>
                </div>

                <!-- Tab Circuit -->
                <div id="plank-tab-circuit" style="display:none;">
                    <p class="section-label" style="margin-bottom:14px;">Exercices du circuit</p>
                    <div class="circuit-exercise-checklist" id="circuit-exercise-list"></div>
                    <div class="plank-config-row">
                        <span class="plank-config-label">Circuits</span>
                        <div class="plank-config-options" id="cfg-circuit_rounds">
                            <button class="plank-config-btn" data-field="circuit_rounds" data-val="2">2</button>
                            <button class="plank-config-btn selected" data-field="circuit_rounds" data-val="3">3</button>
                            <button class="plank-config-btn" data-field="circuit_rounds" data-val="4">4</button>
                            <button class="plank-config-btn" data-field="circuit_rounds" data-val="5">5</button>
                        </div>
                    </div>
                    <div class="plank-config-row">
                        <span class="plank-config-label">Durée exo</span>
                        <div class="plank-config-options" id="cfg-circuit_exDuration">
                            <button class="plank-config-btn" data-field="circuit_exDuration" data-val="30">30s</button>
                            <button class="plank-config-btn selected" data-field="circuit_exDuration" data-val="40">40s</button>
                            <button class="plank-config-btn" data-field="circuit_exDuration" data-val="60">60s</button>
                        </div>
                    </div>
                    <div class="plank-config-row">
                        <span class="plank-config-label">Repos</span>
                        <div class="plank-config-options" id="cfg-circuit_restDuration">
                            <button class="plank-config-btn" data-field="circuit_restDuration" data-val="15">15s</button>
                            <button class="plank-config-btn selected" data-field="circuit_restDuration" data-val="20">20s</button>
                            <button class="plank-config-btn" data-field="circuit_restDuration" data-val="30">30s</button>
                        </div>
                    </div>
                    <p class="plank-estimate" id="circuit-time-estimate">Durée estimée : ~8 min</p>
                    <button class="start-btn" id="circuit-start-btn" style="max-width:320px; margin-top:0;">DÉMARRER LE CIRCUIT</button>
                </div>
            </div>

            <!-- TIMER (affiché pendant la session) -->
            <div id="plank-timer-section" style="display:none;">
                <!-- Positions planche -->
                <div class="plank-positions" id="plank-positions-row">
                    <div class="plank-pos plank-pos-side" id="plank-pos-left">GAUCHE</div>
                    <div class="plank-pos plank-pos-main" id="plank-pos-face">FACE</div>
                    <div class="plank-pos plank-pos-side" id="plank-pos-right">DROITE</div>
                </div>
                <!-- Affichage circuit -->
                <div id="circuit-display" style="display:none; text-align:center; margin:30px 0 10px;">
                    <div class="circuit-phase-type" id="circuit-phase-type">EXERCICE</div>
                    <div class="circuit-ex-display" id="circuit-ex-name">—</div>
                </div>
                <!-- Chrono + contrôles communs -->
                <div class="plank-countdown" id="plank-countdown">01:00</div>
                <div class="plank-round-indicator" id="plank-round">Série 1 / 3</div>
                <div class="plank-controls">
                    <button class="plank-btn-primary" id="plank-toggle-btn">PAUSE</button>
                    <button class="plank-btn-secondary" id="plank-reset-btn">RESET</button>
                </div>
            </div>

            <!-- TERMINÉ -->
            <div id="plank-complete" style="display:none;">
                <div class="plank-complete-msg">
                    <h2 class="bebas" style="font-size:3.5rem; color:var(--primary); line-height:1;">SÉANCE TERMINÉE</h2>
                    <p>Excellent travail. Récupère bien.</p>
                    <button class="return-btn" id="return-home-btn">RETOUR ACCUEIL</button>
                </div>
            </div>
        </div>
    </div>

    <!-- =============================================
         MODAL (partagé)
    ============================================= -->
    <div class="modal-overlay" id="modal-overlay" style="display:none;">
        <div class="modal" id="modal-content"></div>
    </div>

    <script src="workout-data.js"></script>
    <script src="workout-engine.js"></script>
</body>
</html>
